<!doctype html>

<head>
  <meta charset="UTF-8">
  <title>vaadin-radio-button tests</title>
  <script src="../../web-component-tester/browser.js"></script>
  <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
  <link rel="import" href="../../iron-test-helpers/mock-interactions.html">
  <link rel="import" href="../../test-fixture/test-fixture.html">
  <link rel="import" href="../vaadin-radio-button.html">
  <link rel="import" href="../vaadin-radio-group.html">
  <link rel="import" href="helpers.html">
</head>

<body>
 <script>
 
 describe('initial validation', () => {
   let group, validateSpy;

   beforeEach(() => {
     group = document.createElement('vaadin-radio-group');

     const radio = document.createElement('vaadin-radio-button');
     radio.value = '1';
     group.appendChild(radio);

     validateSpy = sinon.spy(group, 'validate');
   });

   afterEach(() => {
     group.remove();
   });

   it('should not validate by default', async() => {
     document.body.appendChild(group);
     await nextRender();
     expect(validateSpy.called).to.be.false;
   });

   it('should not validate when the field has an initial value', async() => {
     group.value = '1';
     document.body.appendChild(group);
     await nextRender();
     expect(validateSpy.called).to.be.false;
   });

   it('should not validate when the field has an initial value and invalid', async() => {
     group.value = '1';
     group.invalid = true;
     document.body.appendChild(group);
     await nextRender();
     expect(validateSpy.called).to.be.false;
   });
 });
 
 </script>
</body>
